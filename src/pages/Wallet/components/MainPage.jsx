import React, { memo, useCallback, useEffect, useState } from "react";
import cl from "../index.module.scss";
import Buttons from "./Buttons";
import { Address, fromNano } from "ton-core";
import { TonClient } from "ton";
import { useSelector } from "react-redux";
import en from "../../../constants/language";
const MainPage = ({ setDepositShow, setWithDrawal, balance }) => {
  const address = useSelector((state) => state.telegramUserInfo.address);

  const value = useSelector((state) => state.ton.value);
  console.log(value);

  return (
    <div className={cl.wrapper}>
      <div className={cl.top}>
        <p>Кошелек</p>
        <svg
          width="17"
          height="17"
          viewBox="0 0 17 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9.47315 8.24096C9.47315 7.88592 9.18534 7.5981 8.83029 7.5981C8.47525 7.5981 8.18744 7.88592 8.18744 8.24096H9.47315ZM8.18744 11.6113C8.18744 11.9664 8.47525 12.2542 8.83029 12.2542C9.18534 12.2542 9.47315 11.9664 9.47315 11.6113H8.18744ZM8.70067 5.51874V4.87588C8.34563 4.87588 8.05781 5.1637 8.05781 5.51874H8.70067ZM8.70067 5.77799H8.05781C8.05781 6.13303 8.34563 6.42085 8.70067 6.42085V5.77799ZM8.95992 5.77799V6.42085C9.31496 6.42085 9.60278 6.13303 9.60278 5.77799H8.95992ZM8.95992 5.51874H9.60278C9.60278 5.1637 9.31496 4.87588 8.95992 4.87588V5.51874ZM15.5763 8.50022C15.5763 12.2259 12.556 15.2462 8.83029 15.2462V16.532C13.2661 16.532 16.862 12.936 16.862 8.50022H15.5763ZM8.83029 15.2462C5.10456 15.2462 2.08426 12.2259 2.08426 8.50022H0.798549C0.798549 12.936 4.39448 16.532 8.83029 16.532V15.2462ZM2.08426 8.50022C2.08426 4.77449 5.10456 1.75419 8.83029 1.75419V0.468471C4.39448 0.468471 0.798549 4.06441 0.798549 8.50022H2.08426ZM8.83029 1.75419C12.556 1.75419 15.5763 4.77449 15.5763 8.50022H16.862C16.862 4.06441 13.2661 0.468471 8.83029 0.468471V1.75419ZM8.18744 8.24096V11.6113H9.47315V8.24096H8.18744ZM8.05781 5.51874V5.77799H9.34352V5.51874H8.05781ZM8.70067 6.42085H8.95992V5.13514H8.70067V6.42085ZM9.60278 5.77799V5.51874H8.31707V5.77799H9.60278ZM8.95992 4.87588H8.70067V6.16159H8.95992V4.87588Z"
            fill="#DAF5FE"
          />
        </svg>
      </div>
      {/* <p className={cl.priceText}>
          <span>≈T</span>{balance}
        </p> */}
      <p className={cl.priceText}>
      ≈ {String(balance * value).slice(0, 5)}
        <span>{en ? "$" : "₽"}</span>
      </p>
      <Buttons setWithDrawal={setWithDrawal} setDepositShow={setDepositShow} />

      <div className={cl.monetka}>
        <div className={cl.left}>
          <svg
            width="41"
            height="41"
            viewBox="0 0 41 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_2409_16018)">
              <path
                d="M20.668 40.333C31.7137 40.333 40.668 31.3787 40.668 20.333C40.668 9.28729 31.7137 0.333008 20.668 0.333008C9.62225 0.333008 0.667969 9.28729 0.667969 20.333C0.667969 31.3787 9.62225 40.333 20.668 40.333Z"
                fill="#0098EA"
              />
              <path
                d="M27.4957 11.4961H13.8373C11.326 11.4961 9.73432 14.205 10.9978 16.395L19.4272 31.0055C19.9773 31.9595 21.3558 31.9595 21.9058 31.0055L30.337 16.395C31.5987 14.2085 30.007 11.4961 27.4974 11.4961H27.4957ZM19.4203 26.624L17.5845 23.0711L13.155 15.1487C12.8628 14.6417 13.2237 13.9919 13.8356 13.9919H19.4186V26.6257L19.4203 26.624ZM28.1746 15.147L23.7468 23.0728L21.911 26.624V13.9902H27.494C28.1059 13.9902 28.4668 14.64 28.1746 15.147Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_2409_16018">
                <rect
                  width="40"
                  height="40"
                  fill="white"
                  transform="translate(0.667969 0.333008)"
                />
              </clipPath>
            </defs>
          </svg>
          <p>TON</p>
        </div>
        <div className={cl.right}>
           <p>
            ≈{balance * value}
            {en ? "$" : "₽"}
          </p>
          <p>{balance}</p>

        </div>
      </div>
      <div className={cl.monetka}>
        <div className={cl.left}>
          <svg
            width="41"
            height="41"
            viewBox="0 0 41 41"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_2409_16029)">
              <path
                d="M20.668 40.834C31.7137 40.834 40.668 31.8797 40.668 20.834C40.668 9.78827 31.7137 0.833984 20.668 0.833984C9.62225 0.833984 0.667969 9.78827 0.667969 20.834C0.667969 31.8797 9.62225 40.834 20.668 40.834Z"
                fill="#3DA8F8"
              />
              <path
                d="M13.2148 22.3622V19.7126C13.2148 14.5087 15.9595 11.4244 20.7286 11.4244C23.0384 11.4244 24.9271 12.1309 26.245 13.4625C27.1554 14.3728 27.7261 15.5277 27.7261 16.343C27.7261 17.1446 27.1962 17.6474 26.4217 17.6474C25.8238 17.6474 25.4298 17.4164 24.9407 16.6963C23.8673 14.9299 22.6172 14.1147 20.8781 14.1147C17.9432 14.1147 16.2856 16.1799 16.2856 19.8077V22.2806C16.2856 25.99 17.9296 28.0416 20.8781 28.0416C22.6444 28.0416 23.9896 27.24 24.995 25.5144C25.4842 24.8079 25.8374 24.5497 26.4081 24.5497C27.2233 24.5497 27.7261 25.066 27.7261 25.8541C27.7261 26.7644 27.0875 27.9737 26.0684 28.8841C24.7776 30.0797 22.9705 30.7319 20.7286 30.7319C15.9323 30.7319 13.2148 27.6748 13.2148 22.3622Z"
                fill="white"
              />
              <rect
                x="19.1523"
                y="9"
                width="2.33745"
                height="3.21399"
                rx="1.16872"
                fill="white"
              />
              <rect
                x="19.1523"
                y="29.4531"
                width="2.33745"
                height="3.21399"
                rx="1.16872"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_2409_16029">
                <rect
                  width="40"
                  height="40"
                  fill="white"
                  transform="translate(0.667969 0.833984)"
                />
              </clipPath>
            </defs>
          </svg>

          <p>CON</p>
        </div>
        <div className={cl.right}>
          <p>
            ≈{0}
            {en ? "$" : "₽"}
          </p>
          <p>0</p>
        </div>
      </div>
    </div>
  );
};

export default memo(MainPage);
